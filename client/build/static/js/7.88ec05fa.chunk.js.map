{"version":3,"sources":["SearchProple/Peoples/People.module.css","SearchProple/SearchPeople.module.css","SearchProple/Peoples/Peoples.js","SearchProple/SearchPeople.js","pages/SearchPeople.js"],"names":["module","exports","People","props","userCTX","useContext","userState","useState","following","setFollowing","Paper","className","cssClasses","elevation","name","Button","style","color","onClick","fetch","method","headers","body","JSON","stringify","userId","user","_id","follow","id","then","res","json","msg","prevState","catch","err","console","log","useStyles","makeStyles","theme","root","display","flexWrap","border","margin","spacing","width","height","SearchPeople","searchText","setSearchText","peoplesList","setPeoplesList","classes","UserState","peoplesEL","map","people","Container","centre","searchForm","onSubmit","e","preventDefault","trim","Error","noValidate","autoComplete","TextField","searchInput","label","variant","value","onChange","target","type","searchBtn"],"mappings":"iFACAA,EAAOC,QAAU,CAAC,OAAS,yB,oBCA3BD,EAAOC,QAAU,CAAC,OAAS,6BAA6B,WAAa,iCAAiC,YAAc,kCAAkC,UAAY,gCAAgC,OAAS,+B,yJC2C5LC,EApCA,SAACC,GACd,IAAMC,EAAUC,qBAAWC,KAC3B,EAAkCC,mBAASJ,EAAMK,WAAjD,mBAAOA,EAAP,KAAkBC,EAAlB,KAoBA,OACE,eAACC,EAAA,EAAD,CAAOC,UAAWC,IAAWV,OAAQW,UAAW,EAAhD,UACE,+BAAOV,EAAMW,OACb,cAACC,EAAA,EAAD,CACEC,MAAO,CAAEC,MAAOT,EAAY,UAAY,WACxCS,MAAM,UACNC,QAxBmB,WAEvBC,MAAM,gBAAiB,CACrBC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEC,OAAQrB,EAAQsB,KAAKC,IAAKC,OAAQzB,EAAM0B,OAE9DC,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACU,SAAZA,EAAIE,KACLxB,GAAa,SAACyB,GAAD,OAAgBA,QAGhCC,OAAM,SAACC,GAAD,OAASC,QAAQC,IAAIF,OAM5B,SAKG5B,EAAW,WAAa,e,kBC1B3B+B,EAAYC,aAAW,SAACC,GAAD,MAAY,CACvCC,KAAM,CACJC,QAAS,OACTC,SAAU,OACVC,OAAQ,iBACR,QAAS,CACPC,OAAQL,EAAMM,QAAQ,GACtBC,MAAOP,EAAMM,QAAQ,IACrBE,OAAQR,EAAMM,QAAQ,SA4EbG,EAvEM,WACnB,MAAoC3C,mBAAS,IAA7C,mBAAO4C,EAAP,KAAmBC,EAAnB,KACA,EAAsC7C,mBAAS,IAA/C,mBAAO8C,EAAP,KAAoBC,EAApB,KACMC,EAAUhB,IACVnC,EAAUC,qBAAWmD,KAkCrBC,EAAYJ,EAAYK,KAAI,SAAAC,GAChC,OAAO,cAAC,EAAD,CAAwB7C,KAAM6C,EAAO7C,KAAMe,GAAI8B,EAAO9B,GAAIrB,UAAWmD,EAAOnD,WAA/DmD,EAAO9B,OAG7B,OACE,eAAC+B,EAAA,EAAD,WACE,qBAAKjD,UAAWC,IAAWiD,OAA3B,SACE,cAACnD,EAAA,EAAD,CAAOC,UAAW4C,EAAQb,KAAM7B,UAAW,EAA3C,SACE,uBACEF,UAAWC,IAAWkD,WACtBC,SAtCgB,SAACC,GACzBA,EAAEC,iBAEF,IAAMxC,EAASrB,EAAQsB,KAAKC,IAEF,KAAtBwB,EAAWe,QAIf/C,MAAM,UAAW,CACfC,OAAQ,OACRC,QAAS,CACP,eAAgB,oBAElBC,KAAMC,KAAKC,UAAU,CAAEC,OAAQA,EAAQ0B,WAAYA,MAElDrB,MAAK,SAACC,GAAD,OAASA,EAAIC,UAClBF,MAAK,SAACC,GACL,GAAGA,EAAIE,IACL,MAAM,IAAIkC,MAAM,iBAElBb,EAAevB,MAEhBI,OAAM,SAACC,GACNC,QAAQC,IAAIF,OAeRgC,YAAU,EACVC,aAAa,MAJf,UAME,cAACC,EAAA,EAAD,CACEzC,GAAG,iBACHlB,UAAWC,IAAW2D,YACtBC,MAAM,SACNC,QAAQ,WACRC,MAAOvB,EACPwB,SApDqB,SAACX,GAChCZ,EAAcY,EAAEY,OAAOF,UAqDf,cAAC,IAAD,CAAYG,KAAK,SAASlE,UAAWC,IAAWkE,mBAItD,qBAAKnE,UAAWC,IAAW+C,OAA3B,SACGF,QCtFMP,UAFM,kBAAM,cAAC,EAAD","file":"static/js/7.88ec05fa.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"People\":\"People_People__3Oa3L\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"centre\":\"SearchPeople_centre__n_Jnl\",\"searchForm\":\"SearchPeople_searchForm__pz4My\",\"searchInput\":\"SearchPeople_searchInput__fgpLC\",\"searchBtn\":\"SearchPeople_searchBtn__33-bJ\",\"people\":\"SearchPeople_people__3hrKW\"};","import { useContext, useState } from \"react\";\r\n\r\nimport Paper from \"@material-ui/core/Paper\";\r\nimport Button from \"@material-ui/core/Button\";\r\n\r\nimport userState from \"../../store/user-state\";\r\nimport cssClasses from \"./People.module.css\";\r\n\r\nconst People = (props) => {\r\n  const userCTX = useContext(userState);\r\n  const [following, setFollowing] = useState(props.following);\r\n\r\n  const followBtnHandler = () => {\r\n\r\n    fetch(\"/addfollowing\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ userId: userCTX.user._id, follow: props.id }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) =>{\r\n        if(res.msg === \"Done\"){\r\n          setFollowing((prevState) => !prevState);\r\n        }\r\n      })\r\n      .catch((err) => console.log(err));\r\n  };\r\n\r\n  return (\r\n    <Paper className={cssClasses.People} elevation={3}>\r\n      <span>{props.name}</span>\r\n      <Button\r\n        style={{ color: following ? \"#ae2b2b\" : \"#2BAE66\" }}\r\n        color=\"primary\"\r\n        onClick={followBtnHandler}\r\n      >\r\n        {following? \"UnFollow\" : \"Follow\"}\r\n      </Button>\r\n    </Paper>\r\n  );\r\n};\r\n\r\nexport default People;\r\n","import { useState, useContext } from \"react\";\r\n\r\nimport TextField from \"@material-ui/core/TextField\";\r\nimport SearchIcon from \"@material-ui/icons/Search\";\r\nimport Container from \"@material-ui/core/Container\";\r\nimport { makeStyles } from \"@material-ui/core/styles\";\r\nimport Paper from \"@material-ui/core/Paper\";\r\n\r\nimport UserState from '../store/user-state';\r\nimport People from \"./Peoples/Peoples\";\r\nimport cssClasses from \"./SearchPeople.module.css\";\r\n\r\nconst useStyles = makeStyles((theme) => ({\r\n  root: {\r\n    display: \"flex\",\r\n    flexWrap: \"wrap\",\r\n    border: \"2px solid #fff\",\r\n    \"& > *\": {\r\n      margin: theme.spacing(2),\r\n      width: theme.spacing(25),\r\n      height: theme.spacing(7),\r\n    },\r\n  },\r\n}));\r\n\r\nconst SearchPeople = () => {\r\n  const [searchText, setSearchText] = useState(\"\");\r\n  const [peoplesList, setPeoplesList] = useState([]);\r\n  const classes = useStyles();\r\n  const userCTX = useContext(UserState);\r\n\r\n  const searchTextChangedHandler = (e) => {\r\n    setSearchText(e.target.value);\r\n  };\r\n\r\n  const formSubmitHandker = (e) => {\r\n    e.preventDefault();\r\n\r\n    const userId = userCTX.user._id;\r\n\r\n    if (searchText.trim() === \"\") {\r\n      return;\r\n    }\r\n\r\n    fetch(\"/search\", {\r\n      method: \"POST\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n      },\r\n      body: JSON.stringify({ userId: userId, searchText: searchText }),\r\n    })\r\n      .then((res) => res.json())\r\n      .then((res) => {\r\n        if(res.msg){\r\n          throw new Error(\"Server Failed\");\r\n        }\r\n        setPeoplesList(res);\r\n      })\r\n      .catch((err) => {\r\n        console.log(err);\r\n      });\r\n  };\r\n\r\n  const peoplesEL = peoplesList.map(people => {\r\n    return <People key={people.id} name={people.name} id={people.id} following={people.following}/>\r\n  });\r\n\r\n  return (\r\n    <Container>\r\n      <div className={cssClasses.centre}>\r\n        <Paper className={classes.root} elevation={3}>\r\n          <form\r\n            className={cssClasses.searchForm}\r\n            onSubmit={formSubmitHandker}\r\n            noValidate\r\n            autoComplete=\"off\"\r\n          >\r\n            <TextField\r\n              id=\"outlined-basic\"\r\n              className={cssClasses.searchInput}\r\n              label=\"Search\"\r\n              variant=\"outlined\"\r\n              value={searchText}\r\n              onChange={searchTextChangedHandler}\r\n            />\r\n            <SearchIcon type=\"submit\" className={cssClasses.searchBtn} />\r\n          </form>\r\n        </Paper>\r\n      </div>\r\n      <div className={cssClasses.people}>\r\n        {peoplesEL}\r\n      </div>\r\n    </Container>\r\n  );\r\n};\r\n\r\nexport default SearchPeople;\r\n","import Search from \"../SearchProple/SearchPeople\";\r\n\r\nconst SearchPeople = () => <Search />;\r\n\r\nexport default SearchPeople ;"],"sourceRoot":""}